# 🚀 이번 주 개발 목표

> 2023.08.02 ~ 2023.08.08

## 윤수빈

- 보드게임 찜하기 및 취소하기 ✔️
- 보드게임 평가하기 ✔️
- 찜한 보드게임 조회하기 ✔️
- 평가한 보드게임 조회하기 (전체 / 별점 별) ✔️

## 서정희

- 보드게임 데이터 삽입 ✔️
- 보드게임 검색하기
- 테스트 코드 작성 ✔️

# 지금까지의 개발 과정 요약

> 윤수빈

- 새로 알게 된 점
    - 부모 엔티티를 통해 일대다 혹은 다대다 관계의 자식 엔티티를 저장하는 경우,
      `persist`와 `merge` 중 어느 것이 실행될 지는 부모 엔티티의 상태에 따라 결점됨.
- 어려웠던 점
  - `merge` 메서드가 실행 될 때, 자식 엔티티 클래스에 `Persistable` 인터페이스의 `isNew()`를 직접 구현함으로써 
    새로운 엔티티인 지 확인하는 절차를 거치도록 했음. 그러나 자식 엔티티에 대해서는 새로운 엔티티 확인을 `isNew()`가 아닌
    Spring Jpa 내부 로직에서 임의로 판단한다는 점을 찾아내기 어려웠음
  - 평가한 보드게임 목록을 조회할 때 각 별점 별로 목록을 분류하는 과정이 필요했는데, 단순하지만 성능적으로 비효율적인 방식과 
    단 하나의 쿼리로 조회할 수 있어 지연 시간을 줄일 수 있지만 굉장히 복잡한 방식이 고려되었음. 각각의 장단점을 비교해보다
    결국 다른 절충안을 찾았지만 앞선 상황에서 실제로는 어느 방식을 택하는 것이 좋은 지는 아직 잘 모르겠음.

> 서정희

- 새로 알게 된 점
  - 목업 테스트를 진행하면서, `@InjectMocks` 와 `Mockito.spy` 가 엄밀히 말하면 같은 기능을 하지는 않는다는 것을 알게 되었다.
- 어려웠던 점
  - CSV 를 파싱하여 데이터를 DB에 삽입하는 과정에서, 데이터를 그대로 삽입하는것이 아니라 가공을 거쳐야했는데, 이 부분에서 어려움을 겪었다.
    찾고자 하는 데이터에 해당하는 `JsonNode`를 찾고 해당 노드의 값을 가져오는 방식으로 원하는 데이터를 찾아 해결했다.